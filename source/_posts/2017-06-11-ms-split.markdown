---
layout: post
title: "微服务划分：按子域 vs 按业务能力"
date: 2017-06-11 16:15:44 +0800
comments: true
categories: ["架构","微服务"]
published: true
---

微服务的划分方法，常见的是两种，按子域和按业务能力。<!-- more-->

“子域”，就是DDD中的"子域"。

“业务能力”，是一个专用名词，指的是一个连续的业务过程，其中不需要中断，也不需要别的业务过程的参与。既然不需要别的业务过程的参与，那这些业务过程就是自然而然被组织起来的，比如首尾相连，或者，是由外部力量来进行连接的，比如用户。

两种不同的服务划分风格，反映了对业务本身的不同的描述与划分的风格。

比较形象地讲，按子域划分，就是把业务划成一块一块的。按业务能力划分，就是把业务划成一段一段的。一块一块的，描述业务概念和它们之间的关系，是个静态的模型。一段一段的，描述业务的执行过程，是一个动态模型。

按业务能力划分的优势主要在运行时。由于不需要别的业务过程的参与，各个服务的运行时依赖被尽量减少。在服务性能、可用性方面不会相互牵绊，可以做到最好。

而按子域划分的优势主要在设计时。把业务概念划分到子域，最大的收益，就是应对业务的规模、复杂性和分别演进。

